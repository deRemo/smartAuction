{"ast":null,"code":"import _objectSpread from \"/home/remo/Dropbox/Programming/html-js/auction_ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/home/remo/Dropbox/Programming/html-js/auction_ui/src/App.js\";\n//react part\nimport React, { Component } from 'react';\nimport { withStyles } from '@material-ui/core';\nimport Container from '@material-ui/core/Container';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid'; //contract part\n\nimport * as englishAuction from './build/contracts/englishAuction.json';\nimport * as vickeryAuction from './build/contracts/vickeryAuction.json';\nimport * as smartAuctionFactory from './build/contracts/smartAuctionFactory.json';\nimport Web3 from 'web3';\nimport TruffleContract from 'truffle-contract'; //custom component part\n\nimport NavBar from \"./components/navbar\";\nimport ContractCreator from \"./components/auction_creator\";\nimport AuctionManager from \"./components/auction_manager\";\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1\n  },\n  control: {\n    padding: theme.spacing(2)\n  },\n  paper: {\n    padding: theme.spacing(3),\n    textAlign: 'center',\n    color: theme.palette.text.secondary\n  }\n});\n\nclass App extends Component {\n  //App attribute\n  constructor(props) {\n    super(props);\n    this.attr = {\n      contracts: {},\n      // Store contract abstractions\n      web3Provider: null,\n      // Web3 provider\n      url: 'http://localhost:7545',\n      // Url for web3\n      account: '0x0'\n    };\n\n    this.handleDeploy = event => {\n      this.setState(oldState => _objectSpread({}, oldState, {\n        auctions: this.state.auctions.concat(Math.random())\n      }));\n    };\n\n    this.state = {\n      auctions: [],\n      contracts: {},\n      //store contract abstractions\n      account: undefined //Init web3\n\n    };\n\n    if (typeof web3 != 'undefined') {\n      // Check whether exists a provider, e.g Metamask\n      this.web3Provider = window.ethereum; // !! new standard, since 2/11/18\n\n      this.web3 = new Web3(this.web3Provider);\n\n      try {\n        // Permission popup\n        window.ethereum.enable().then(async () => {\n          console.log(\"DApp connected\");\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    } else {\n      // Otherwise, create a new local instance of Web3\n      this.web3Provider = new Web3.providers.HttpProvider(this.attr.url); // <==\n\n      this.web3 = new Web3(this.attr.web3Provider);\n    }\n\n    console.log(\"web3 version \" + this.web3.version); //Get current account\n\n    this.web3.eth.getCoinbase(function (err, account) {\n      if (err == null) {\n        App.account = account;\n        console.log(\"Account Address: \" + account); //$(\"#accountId\").html(\"Account Address: \" + account); //accountId is a piece of plain text\n      }\n    }); //Get the current block number\n\n    this.web3.eth.getBlockNumber(function (err, blockNum) {\n      if (err == null) {\n        console.log(\"current block: \" + blockNum); //$(\"#currentBlock\").html(\"current block: \" + blockNum);\n      }\n    }); //Get contracts\n\n    this.attr.contracts[\"englishAuction\"] = TruffleContract(englishAuction);\n    this.attr.contracts[\"englishAuction\"].setProvider(this.attr.web3Provider);\n    this.attr.contracts[\"vickeryAuction\"] = TruffleContract(vickeryAuction);\n    this.attr.contracts[\"vickeryAuction\"].setProvider(this.attr.web3Provider);\n    this.attr.contracts[\"smartAuctionFactory\"] = TruffleContract(smartAuctionFactory);\n    this.attr.contracts[\"smartAuctionFactory\"].setProvider(this.attr.web3Provider);\n  } //add to the auctions array a new auction\n\n\n  componentWillMount() {}\n\n  render() {\n    const classes = this.props.classes;\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(NavBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }), React.createElement(\"main\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(Container, {\n      maxWidth: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      container: true,\n      className: classes.root,\n      spacing: 2,\n      justify: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      xs: 10,\n      sm: 10,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(Paper, {\n      className: classes.paper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"bidder\", React.createElement(AuctionManager, {\n      auctions: this.state.auctions,\n      onDeploy: this.handleDeploy,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }))), React.createElement(Grid, {\n      item: true,\n      xs: 10,\n      sm: 10,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(Paper, {\n      className: classes.paper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"seller\", React.createElement(ContractCreator, {\n      onDeploy: this.handleDeploy,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }))), React.createElement(Grid, {\n      item: true,\n      xs: 10,\n      sm: 10,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(Paper, {\n      className: classes.paper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"auctioneer\")))), React.createElement(Container, {\n      maxWidth: \"sm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(Box, {\n      my: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      variant: \"body2\",\n      color: \"textSecondary\",\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, \"P2P 2018/2019 Final Project made by Remo Andreoli\")))));\n  }\n\n}\n\nexport default withStyles(styles)(App);\n/* OLD, FUNCTIONAL COMPONENT\nimport { makeStyles } from '@material-ui/core/styles';\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tflexGrow: 1,\n\t},\n\n\tcontrol: {\n\t\tpadding: theme.spacing(2),\n\t},\n\t\n\tpaper: {\n\t\tpadding: theme.spacing(3),\n    \ttextAlign: 'center',\n    \tcolor: theme.palette.text.secondary,\n\t},\n}));\n\nexport default function App() {\n\tconst classes = useStyles();\n\n\tconst [state, setState] = React.useState({\n        auctions: [],\n\t});\n\t\n\t//add to the auctions array a new auction\n    const handleDeploy = (event) => {\n        setState(oldState => ({\n            ...oldState,\n            auctions: state.auctions.concat(Math.random()),\n        }));\n\t}\n\t\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<NavBar/>\n\t\t\t<main>\n\t\t\t\t<Container maxWidth=\"lg\">\n\t\t\t\t\t<Grid container className={classes.root} spacing={2} justify = \"center\">\n\t\t\t\t\t\t<Grid item xs={10} sm={10}>\n\t\t\t\t\t\t\t<Paper className={classes.paper}>\n\t\t\t\t\t\t\t\tbidder\n\t\t\t\t\t\t\t\t<AuctionManager auctions={state.auctions} onDeploy={handleDeploy}/>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={10} sm={10}>\n\t\t\t\t\t\t\t<Paper className={classes.paper}>\n\t\t\t\t\t\t\t\tseller\n\t\t\t\t\t\t\t\t<ContractCreator onDeploy={handleDeploy}/>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={10} sm={10}>\n\t\t\t\t\t\t\t<Paper className={classes.paper}>auctioneer</Paper>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Container>\n\n\t\t\t\t<Container maxWidth=\"sm\">\n\t\t\t\t\t<Box my={4}>\n\t\t\t\t\t\t<Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      \t\t\t\t\t\tP2P 2018/2019 Final Project made by Remo Andreoli\n    \t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t</Container>\n\t\t\t</main>\n\t\t</React.Fragment>\n\t);\n}\n*/","map":{"version":3,"sources":["/home/remo/Dropbox/Programming/html-js/auction_ui/src/App.js"],"names":["React","Component","withStyles","Container","Typography","Box","Paper","Grid","englishAuction","vickeryAuction","smartAuctionFactory","Web3","TruffleContract","NavBar","ContractCreator","AuctionManager","styles","theme","root","flexGrow","control","padding","spacing","paper","textAlign","color","palette","text","secondary","App","constructor","props","attr","contracts","web3Provider","url","account","handleDeploy","event","setState","oldState","auctions","state","concat","Math","random","undefined","web3","window","ethereum","enable","then","console","log","error","providers","HttpProvider","version","eth","getCoinbase","err","getBlockNumber","blockNum","setProvider","componentWillMount","render","classes"],"mappings":"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","sourcesContent":["//react part\nimport React, { Component } from 'react';\nimport { withStyles } from '@material-ui/core'\nimport Container from '@material-ui/core/Container';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\n\n//contract part\nimport * as englishAuction from './build/contracts/englishAuction.json';\nimport * as vickeryAuction from './build/contracts/vickeryAuction.json';\nimport * as smartAuctionFactory from './build/contracts/smartAuctionFactory.json';\n\nimport Web3 from 'web3';\nimport TruffleContract from 'truffle-contract';\n\n//custom component part\nimport NavBar from \"./components/navbar\";\nimport ContractCreator from \"./components/auction_creator\";\nimport AuctionManager from \"./components/auction_manager\";\n\nconst styles = theme => ({\n\troot: {\n\t\tflexGrow: 1,\n\t},\n\n\tcontrol: {\n\t\tpadding: theme.spacing(2),\n\t},\n\t\n\tpaper: {\n\t\tpadding: theme.spacing(3),\n    \ttextAlign: 'center',\n    \tcolor: theme.palette.text.secondary,\n\t},\n});\n\nclass App extends Component {\n\t//App attribute\n\tattr = {\n\t\tcontracts: {}, // Store contract abstractions\n\t\tweb3Provider: null, // Web3 provider\n\t\turl: 'http://localhost:7545', // Url for web3\n\t\taccount: '0x0',\n\t}\n\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tauctions: [],\n\t\t\tcontracts: {}, //store contract abstractions\n\t\t\taccount: undefined,\n\t\t}\n\n\t\t//Init web3\n\t\tif(typeof web3 != 'undefined') { // Check whether exists a provider, e.g Metamask\n\t\t\tthis.web3Provider = window.ethereum; // !! new standard, since 2/11/18\n\t\t\tthis.web3 = new Web3(this.web3Provider);\n\t\t\n\t\t\ttry {\n\t\t\t\t// Permission popup\n\t\t\t\twindow.ethereum.enable().then(async() => { console.log(\"DApp connected\"); });\n\t\t\t}\n\t\t\tcatch(error) { console.log(error); }\n\t\t} \n\t\telse { // Otherwise, create a new local instance of Web3\n\t\t\t\tthis.web3Provider = new Web3.providers.HttpProvider(this.attr.url); // <==\n\t\t\t\tthis.web3 = new Web3(this.attr.web3Provider);\n\t\t}\n\t\tconsole.log(\"web3 version \" + this.web3.version);\n\n\t\t//Get current account\n\t\tthis.web3.eth.getCoinbase(function(err, account) {\n            if(err == null) {\n                App.account = account;\n                console.log(\"Account Address: \"+ account);\n                //$(\"#accountId\").html(\"Account Address: \" + account); //accountId is a piece of plain text\n            }\n\t\t});\n\n\t\t//Get the current block number\n\t\tthis.web3.eth.getBlockNumber(function (err, blockNum) {\n\t\t\tif(err == null){\n\t\t\t\t\tconsole.log(\"current block: \" + blockNum);\n\t\t\t\t\t//$(\"#currentBlock\").html(\"current block: \" + blockNum);\n\t\t\t}\n\t\t});\n\n\t\t//Get contracts\n\t\tthis.attr.contracts[\"englishAuction\"] = TruffleContract(englishAuction);\n\t\tthis.attr.contracts[\"englishAuction\"].setProvider(this.attr.web3Provider);\n\t\t\n\t\tthis.attr.contracts[\"vickeryAuction\"] = TruffleContract(vickeryAuction);\n\t\tthis.attr.contracts[\"vickeryAuction\"].setProvider(this.attr.web3Provider);\n\t\t\n\t\tthis.attr.contracts[\"smartAuctionFactory\"] = TruffleContract(smartAuctionFactory);\n    \tthis.attr.contracts[\"smartAuctionFactory\"].setProvider(this.attr.web3Provider);\n\t}\n\n\t//add to the auctions array a new auction\n    handleDeploy = (event) => {\n        this.setState(oldState => ({\n            ...oldState,\n            auctions: this.state.auctions.concat(Math.random()),\n        }));\n\t}\n\t\n\tcomponentWillMount(){\n\t}\n\n\trender(){\n\t\tconst { classes } = this.props;\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<NavBar/>\n\t\t\t\t<main>\n\t\t\t\t\t<Container maxWidth=\"lg\">\n\t\t\t\t\t\t<Grid container className={classes.root} spacing={2} justify = \"center\">\n\t\t\t\t\t\t\t<Grid item xs={10} sm={10}>\n\t\t\t\t\t\t\t\t<Paper className={classes.paper}>\n\t\t\t\t\t\t\t\t\tbidder\n\t\t\t\t\t\t\t\t\t<AuctionManager auctions={this.state.auctions} onDeploy={this.handleDeploy}/>\n\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs={10} sm={10}>\n\t\t\t\t\t\t\t\t<Paper className={classes.paper}>\n\t\t\t\t\t\t\t\t\tseller\n\t\t\t\t\t\t\t\t\t<ContractCreator onDeploy={this.handleDeploy}/>\n\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs={10} sm={10}>\n\t\t\t\t\t\t\t\t<Paper className={classes.paper}>auctioneer</Paper>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Container>\n\n\t\t\t\t\t<Container maxWidth=\"sm\">\n\t\t\t\t\t\t<Box my={4}>\n\t\t\t\t\t\t\t<Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n\t\t\t\t\t\t\t\tP2P 2018/2019 Final Project made by Remo Andreoli\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Container>\n\t\t\t\t</main>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default withStyles(styles)(App);\n\n\n/* OLD, FUNCTIONAL COMPONENT\nimport { makeStyles } from '@material-ui/core/styles';\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tflexGrow: 1,\n\t},\n\n\tcontrol: {\n\t\tpadding: theme.spacing(2),\n\t},\n\t\n\tpaper: {\n\t\tpadding: theme.spacing(3),\n    \ttextAlign: 'center',\n    \tcolor: theme.palette.text.secondary,\n\t},\n}));\n\nexport default function App() {\n\tconst classes = useStyles();\n\n\tconst [state, setState] = React.useState({\n        auctions: [],\n\t});\n\t\n\t//add to the auctions array a new auction\n    const handleDeploy = (event) => {\n        setState(oldState => ({\n            ...oldState,\n            auctions: state.auctions.concat(Math.random()),\n        }));\n\t}\n\t\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<NavBar/>\n\t\t\t<main>\n\t\t\t\t<Container maxWidth=\"lg\">\n\t\t\t\t\t<Grid container className={classes.root} spacing={2} justify = \"center\">\n\t\t\t\t\t\t<Grid item xs={10} sm={10}>\n\t\t\t\t\t\t\t<Paper className={classes.paper}>\n\t\t\t\t\t\t\t\tbidder\n\t\t\t\t\t\t\t\t<AuctionManager auctions={state.auctions} onDeploy={handleDeploy}/>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={10} sm={10}>\n\t\t\t\t\t\t\t<Paper className={classes.paper}>\n\t\t\t\t\t\t\t\tseller\n\t\t\t\t\t\t\t\t<ContractCreator onDeploy={handleDeploy}/>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={10} sm={10}>\n\t\t\t\t\t\t\t<Paper className={classes.paper}>auctioneer</Paper>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Container>\n\n\t\t\t\t<Container maxWidth=\"sm\">\n\t\t\t\t\t<Box my={4}>\n\t\t\t\t\t\t<Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      \t\t\t\t\t\tP2P 2018/2019 Final Project made by Remo Andreoli\n    \t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t</Container>\n\t\t\t</main>\n\t\t</React.Fragment>\n\t);\n}\n*/"]},"metadata":{},"sourceType":"module"}